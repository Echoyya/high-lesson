<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="app"></div>
  <script>

    // Vue.nextTick 实现原理，源码分析
    // Vue.nextTick vue 中dom 渲染都是异步的，
    // dom渲染，原生的肯定是同步的，vue中把dom渲染变成异步的，nextTick 会放到异步渲染之后

    console.log(app);

    // 异步方法  H5的方法，变化侦测:监控一个页面的数据变化
    let ob = new MutationObserver(function () {
      console.log(app.children.length);
    })
    // 监控：节点，内容
    ob.observe(app, {
      childList: true
    })
    for (let index = 0; index < 20; index++) {
      app.appendChild(document.createElement('p'))
    }

    // todo...


    for (let index = 0; index < 20; index++) {
      app.appendChild(document.createElement('p'))
    }

    setImmediate(function(){     // 仅支持IE
      console.log('setImmediate');
    })
    setTimeout(function(){  // 可以使用，然而按照html规范。嵌套深度超过5级的定时器，会被限制在4ms，没有setImmediate的天然及时性提供合适的polyfill
      console.log('setTimeout');
    })
  </script>
</body>

</html>